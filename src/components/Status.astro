---
import "./Status.scss";
import { StatusCarousel } from "./StatusCarousel";
import { FeedCard } from "./FeedCard";

const stream = await fetch("https://status.spencerchang.me/api/me")
  .then((res) => res.json())
  .catch((err) => console.error(err));

function formatDate(date: Date) {
  return date
    .toLocaleString("en-US", {
      month: "2-digit",
      day: "2-digit",
      hour: "2-digit",
      minute: "2-digit",
      hour12: false,
    })
    .replace(", ", "|")
    .replace("/", ".");
}
---

<div class="status-container">
  <FeedCard title="LIVE" icon="ðŸ“¡" client:only="react">
    <StatusCarousel items={stream} client:only="react" />
  </FeedCard>
</div>

<link
  href="https://fonts.googleapis.com/css2?family=Sono:wght@400;600&display=swap"
  rel="stylesheet"
/>
