---
import HeaderAction, { type HeaderActionType } from "./HeaderAction.astro";

const Actions: HeaderActionType[] = [
  // {href: "/posts", name: "writing" , icon: "ğŸ“"},
  // {href: "/books", name: "books" , icon: "ğŸ“š"},
  { href: "/about", name: "about", showName: true, icon: "ğŸŸ " },
  { href: "/creation", icon: "ğŸª„", name: "creations" },
  { href: "/collab", icon: "ğŸŒ»", name: "collaborations" },
  // {href: "/colophon", name: "creations" , icon: "ğŸª„"},
  //   {href: "/feed", name: "feed" , icon: "ğŸ“œ"},
  // {href: "/workbench", name: "workbench" , icon: "ğŸ”©"},
  { href: "/fits", icon: "ğŸ§¢", name: "fits" },

  // {href: "/window", icon: "ğŸªŸ"},
];
---

<div class="navbarActions">
  {Actions.map((action) => <HeaderAction {...action} />)}

  <div class="divider"></div>
  <button id="darkModeToggle" class="link"><b></b></button>
</div>

<script is:inline>
  function setDarkMode(state) {
    document.documentElement.classList.toggle("dark-mode", state);
    document.querySelector("#darkModeToggle").children[0].innerHTML = state
      ? "â˜€ï¸"
      : "ğŸŒ‘";
  }

  function toggleDarkMode() {
    setDarkMode(!document.documentElement.classList.contains("dark-mode"));
  }

  document
    .querySelector("#darkModeToggle")
    .addEventListener("click", toggleDarkMode);
  const useDark = window.matchMedia("(prefers-color-scheme: dark)");
  useDark.addListener((evt) => setDarkMode(evt.matches));
  setDarkMode(useDark.matches);
</script>
